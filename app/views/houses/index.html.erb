<%= render 'partials/navigation' %>

<table>
  <tr>
    <th>Address</th>
    <th>Rooms</th>
    <th>Bathrooms</th>
    <th>Square Feet</th>
    <th>Property Type</th>
    <th>Description</th>
    <th>Price</th>
    <th>Commission</th>
    <th>Client</th>
    <th>Phase</th>
    <th>Action</th>
  </tr>
  <% @houses.each do |house| %>
  <tr>
    <td>
      <a href='/houses/<%= house.id %>'><%= house.address %></a>
    </td>
    <td><%= house.rooms %></td>
    <td><%= house.bathrooms %></td>
    <td><%= house.sqft %></td>
    <td><%= house.info %></td>
    <td><%= house.description %></td>
    <td><%= number_to_currency(house.price) %></td>
    <td><%= number_to_currency(house.commission) %></td>
    <td>
      <a href='/clients/<%= house.client.id %>'><%= house.client.first_name %> <%= house.client.last_name %>
    </td>
    <td>Phase: <%= house.phase %></td>
    <td>
      <a href='/houses/<%= house.id %>' data-method='DELETE' >Delete</a>
      <a href='/houses/<%= house.id %>/edit'>Edit</a>
  <% end %>
</table>

<form action='/houses' method='POST'>
  <input type='hidden' name='authenticity_token' value='<%= form_authenticity_token %>'>

  <label for='house[address]'>Address:</label>
  <input type='text' name='house[address]' placeholder='1111 House St. City, ST 11111'>

  <label for='house[rooms]'>Rooms</label>
  <select name='house[rooms]'>
    <option value='1'>1</option>
    <option value='2'>2</option>
    <option value='3'>3</option>
    <option value='4'>4</option>
    <option value='5'>5</option>
    <option value='6'>6</option>
    <option value='7'>7</option>
    <option value='8'>8</option>
    <option value='9'>9</option>
    <option value='10'>10</option>
  </select>

  <label for='house[bathrooms]'>Bathrooms</label>
  <select name='house[bathrooms]'>
    <option value='1'>1</option>
    <option value='2'>2</option>
    <option value='3'>3</option>
    <option value='4'>4</option>
    <option value='5'>5</option>
    <option value='6'>6</option>
    <option value='7'>7</option>
    <option value='8'>8</option>
    <option value='9'>9</option>
    <option value='10'>10</option>
  </select>

  <label for='house[sqft]'>Square Feet</label>
  <input type='text' name='house[sqft]'>

  <label for='house[info]'>Property Type</label>
  <input type='text' name='house[info]'>

  <label for='house[description]'>Description</label>
  <textarea name='house[description]'></textarea>

  <label for='house[price]'>Price</label>
  <input type='text' name='house[price]'>

  <label for='house[client_id]'>Client</label>
  <select name='house[client_id]'>
  <% @clients.each do |client| %>
    <option value='<%= client.id %>'>
      <%= client.first_name %> <%= client.last_name %>
    </option>
  <% end %>
  </select>

  <input type='submit' value='Submit'>
</form>
